(this["webpackJsonpswitching-app"]=this["webpackJsonpswitching-app"]||[]).push([[0],{19:function(e){e.exports=JSON.parse('{"a":{"id":"3972ca30-dd4f-480c-b96a-eb7ef9a92380","userId":"admin","blocks":[{"id":"d5cc2725-97ec-494b-bc80-c16f96379e61","type":"title","parentBlockId":null,"preBlockId":null,"nextBlockId":"d5cc2725-97ec-494b-bc80-c16f96379e11","property":{"type":"bk-title","styles":{"color":"black","backgroudColor":"white"},"contents":[["\ube14\ub85d 1\uc785\ub2c8\ub2e4."],["\uc800",[["b"],["fc","#c0f"],["bc","#000"],["i"],["a","https://www.naver.com"]]],["\ub294 ",[["i"]]],["\ud669\uc900\ud76c    ",[["b"],["_"]]],[" \uc785\ub2c8\ub2e4.",[["fc","#f00"]]]]},"children":[]},{"id":"d5cc2725-97ec-494b-bc80-c16f96379e11","type":"text","parentBlockId":null,"preBlockId":"d5cc2725-97ec-494b-bc80-c16f96379e61","nextBlockId":"c7ce6d39-bf2a-4712-9318-d2313a917a62","property":{"type":"bk-h1","styles":{"color":"black","backgroudColor":"white"},"contents":[]},"children":[]},{"id":"c7ce6d39-bf2a-4712-9318-d2313a917a62","type":"container","parentBlockId":null,"preBlockId":"d5cc2725-97ec-494b-bc80-c16f96379e11","nextBlockId":"s5cc2725-97ec-494b-bc80-c16f96379e61","property":null,"children":["a85758ba-bbb5-45e1-aaa0-e3395e0dfd78","3723c55f-66f0-4ad0-b796-0dbcd8d82ce8","2453d55f-66f0-4ad0-b796-0dbcd8d82ce8"]},{"id":"a85758ba-bbb5-45e1-aaa0-e3395e0dfd78","type":"text","parentBlockId":"c7ce6d39-bf2a-4712-9318-d2313a917a62","preBlockId":null,"nextBlockId":"3723c55f-66f0-4ad0-b796-0dbcd8d82ce8","property":{"type":"bk-h1","styles":{"color":"black","backgroudColor":"white"},"contents":[["\ube14\ub85d "],["2 \uc785",[["b"]]],["\ub2c8\ub2e4."]]},"children":[]},{"id":"3723c55f-66f0-4ad0-b796-0dbcd8d82ce8","type":"text","parentBlockId":"c7ce6d39-bf2a-4712-9318-d2313a917a62","preBlockId":"a85758ba-bbb5-45e1-aaa0-e3395e0dfd78","nextBlockId":"2453d55f-66f0-4ad0-b796-0dbcd8d82ce8","property":{"type":"bk-h1","styles":{"color":"black","backgroudColor":"white"},"contents":[["\ube14\ub85d"],["3 ",[["b"],["i"],["fc","#fc0"]]],["\uc785 ",[["i"]]],["\ub2c8\ub2e4."]]},"children":["4453c55f-66f0-4ad0-b796-0dbcd8d82ce8"]},{"id":"4453c55f-66f0-4ad0-b796-0dbcd8d82ce8","type":"text","parentBlockId":"3723c55f-66f0-4ad0-b796-0dbcd8d82ce8","preBlockId":null,"nextBlockId":null,"property":{"type":"bk-h1","styles":{"color":"black","backgroudColor":"white"},"contents":[["\ube14\ub85d"],["3 ",[["b"],["i"],["fc","#fc0"]]],["\uc785 ",[["i"]]],["\ub2c8\ub2e4."]]},"children":[]},{"id":"2453d55f-66f0-4ad0-b796-0dbcd8d82ce8","type":"text","parentBlockId":"c7ce6d39-bf2a-4712-9318-d2313a917a62","preBlockId":"3723c55f-66f0-4ad0-b796-0dbcd8d82ce8","nextBlockId":null,"property":{"type":"bk-h1","styles":{"color":"black","backgroudColor":"white"},"contents":[["\ube14\ub85d"],["4 ",[["b"],["i"],["fc","#fc0"]]],["\uc785 ",[["i"]]],["\ub2c8\ub2e4."]]},"children":[]},{"id":"s5cc2725-97ec-494b-bc80-c16f96379e61","type":"text","parentBlockId":null,"preBlockId":"c7ce6d39-bf2a-4712-9318-d2313a917a62","nextBlockId":null,"property":{"type":"bk-h1","styles":{"color":"black","backgroudColor":"white"},"contents":[["\ube14\ub85d 1\uc785\ub2c8\ub2e4."],["\uc800",[["b"],["fc","#c0f"],["bc","#000"],["i"],["a","https://www.naver.com"]]],["\ub294 ",[["i"]]],["\ud669\uc900\ud76c",[["b"]]],[" \uc785\ub2c8\ub2e4.",[["fc","#f00"]]]]},"children":[]}]}}')},47:function(e){e.exports=JSON.parse('{"a":[{"id":"d5cc2725-97ec-494b-bc80-c16f96379e61","preBlockId":null,"nextBlockId":"c7ce6d39-bf2a-4712-9318-d2313a917a62","property":{"type":"BKlog-h1","styles":{"color":"black","backgroudColor":"white"},"contents":["\uc548\ub155\ud558\uc138\uc694 \uc800\ub294","<strong> \ud14c\uc2a4\ud2b8 </strong>","<i>\uc785\ub2c8\ub2e4.</i>"]}},{"id":"c7ce6d39-bf2a-4712-9318-d2313a917a62","preBlockId":"d5cc2725-97ec-494b-bc80-c16f96379e61","nextBlockId":"a85758ba-bbb5-45e1-aaa0-e3395e0dfd78","property":{"type":"BKlog-h1","styles":{"color":"black","backgroudColor":"white"},"contents":["\uc548\ub155\ud558\uc138\uc694 \uc800\ub294","<strong> \ud14c\uc2a4\ud2b8 </strong>","<i>\uc785\ub2c8\ub2e4.</i>"]}},{"id":"a85758ba-bbb5-45e1-aaa0-e3395e0dfd78","preBlockId":"c7ce6d39-bf2a-4712-9318-d2313a917a62","nextBlockId":null,"property":{"type":"BKlog-h1","styles":{"color":"black","backgroudColor":"white"},"contents":["\uc548\ub155\ud558\uc138\uc694 \uc800\ub294","<strong> \ud14c\uc2a4\ud2b8 </strong>","<i>\uc785\ub2c8\ub2e4.</i>"]}}]}')},55:function(e,t,n){e.exports=n(88)},83:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(25),r=n.n(o),l=n(31),d=n(6),i=n(8),s=n(11),u=n(5),b=n(92),f=n(47),k="blocklog/ADD_BLOCK",p="blocklog/EDITABLE";function g(e,t){return{type:k,payload:{preBlockId:e,type:t}}}function h(e){return{type:p,payload:{id:e}}}var I={editingId:null,blocks:Object(u.a)(f.a),temps:[],newTemps:[]};var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:var n=t.payload,c=n.preBlockId,a=n.type,o=Object(u.a)(e.blocks),r={id:Object(b.a)(),preBlockId:c||e.blocks[e.blocks.length-1].id,nextBlockId:null,property:{type:a||"BKlog-p",styles:{},contents:[]}};if(c){r.preBlockId=c;for(var l=0;l<e.blocks.length;l++)e.blocks[l].id===c&&(l!==e.blocks.length-1?(o[l].nextBlockId=r.id,o[l+1].preBlockId=r.id,r.nextBlockId=o[l+1].id,o.splice(l+1,0,r)):(o[l].nextBlockId=r.id,o.push(r)));return Object.assign({},e,{blocks:o,editingId:r.id})}return o[o.length-1].nextBlockId=r.id,o.push(r),Object.assign({},e,{blocks:o,editingId:r.id});case p:return Object.assign({},e,{editingId:t.payload.id});case"blocklog/NEWEDIT_BLOCK":var d=t.payload,i=d.blockId,s=(d.focusOffset,d.text,d.textType,e.blocks.filter((function(e){return e.id===i}))[0]);return console.log(s),e;case"blocklog/EDIT_BLOCK":for(var f=t.payload,g=f.id,h=f.content,y=!1,B=0;B<e.temps.length;B++)if(e.temps[B].id===g){y=!0;break}return Object.assign({},e,{temps:y?e.temps.map((function(e){return e.id===g?{id:g,content:h}:e})):[].concat(Object(u.a)(e.temps),[{id:g,content:h}])});case"blocklog/COMMIT_BLOCK":var v=e.temps.concat(),O=e.blocks.map((function(e){for(var t=0;t<v.length;t++)if(e.id===v[t].id)return Object.assign({},e,{property:Object.assign({},e.property,{contents:[v[t].content]})});return e})),m=Object.assign({},e,{blocks:O,temps:[],editingId:null});return localStorage.setItem("blocklog",JSON.stringify(m)),m;case"blocklog/DELETE_BLOCK":var x,E,j=e.blocks.filter((function(e){return e.id!==t.payload.id}));if(0===j.length)j.push({id:Object(b.a)(),preBlockId:null,nextBlockId:null,property:{type:"BKlog-p",styles:{},contents:[]}});else{for(var C=0;C<j.length;C++){if(0===C){if(e.blocks[C].id===t.payload.id){j[C].preBlockId=null;break}}else C===j.length-1&&e.blocks[C+1].id===t.payload.id&&(j[C].nextBlockId=null);j[C].nextBlockId===t.payload.id&&(x={idx:C,id:j[C].id}),j[C].preBlockId===t.payload.id&&(E={idx:C,id:j[C].id})}x&&E&&(j[x.idx].nextBlockId=E.id,j[E.idx].preBlockId=x.id)}return Object.assign({},e,{blocks:j});default:var T=localStorage.getItem("blocklog");return T?JSON.parse(T):e}};function B(e){var t=e.blockData,n=Object(s.c)((function(e){return e.blocklog})),o=Object(s.b)(),r=Object(c.useRef)(null),l=function(){o(h(t.id))},d=function(){o({type:"blocklog/DELETE_BLOCK",payload:{id:t.id}})},i=function(e){document.createRange();var t=window.getSelection(),n=t?t.toString():"\uc5c6\uc74c",c=(t&&t.focusOffset,[n,"b"]);console.log(c)};return Object(c.useEffect)((function(){n.editingId===t.id&&r.current&&function(e){window.getSelection(),document.createRange();e.focus()}(r.current)}),[n.editingId]),a.a.createElement("div",{id:t.id,className:"block-zone"},a.a.createElement("div",{"data-id":t.id,ref:r,className:t.type,dangerouslySetInnerHTML:{__html:t.contents?t.contents.join():""},contentEditable:!0,onKeyUp:function(e){var n,c,a=window.getSelection(),r=(document.createRange(),a?a.focusOffset:0);switch(console.log(r,a?a.toString():"\uc5c6\uc74c",e.target.innerText.slice(r-2,r)),n=t.id,c=e.target.innerHTML,o(function(e,t){return{type:"blocklog/EDIT_BLOCK",payload:{id:e,content:t}}}(n,c)),e.key){case"Enter":e.preventDefault();break;case"ArrowUp":t.preId&&o(h(t.preId));break;case"ArrowDown":t.nextId&&o(h(t.nextId));break;case"Backspace":if(!e.target.innerHTML){d(),t.preId?o(h(t.preId)):t.nextId&&o(h(t.nextId));break}}},onKeyPress:function(e){var n,c;"Enter"===e.key&&(e.preventDefault(),n=t.id,o(g(n,c)))},onFocus:l,onBlur:function(){o({type:"blocklog/COMMIT_BLOCK"})},onMouseUp:i,onClick:l,onMouseDown:i}),a.a.createElement("button",{onClick:d}," \uc0ad\uc81c "))}var v=function(){var e=Object(s.c)((function(e){return e.blocklog})),t=Object(s.b)(),n=e?e.blocks.map((function(e){return{id:e.id,preId:e.preBlockId,nextId:e.nextBlockId,type:e.property.type,style:[],contents:e.property.contents}})):null;return a.a.createElement("div",{className:"blocklog"},n?n.map((function(e){return a.a.createElement(B,{blockData:e,key:e.id})})):a.a.createElement("div",null,'""'),a.a.createElement("button",{onClick:function(){var e,n;t(g(e,n))}},"\ube14\ub7ed \ucd94\uac00"))},O=n(7),m=n.n(O),x=n(23),E=n(21),j=n(48),C=n.n(j),T=m.a.mark(D),N=m.a.mark(_);function w(){return S.apply(this,arguments)}function S(){return(S=Object(x.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C()({method:"post",url:"http://localhost:4500/v2/user/login",data:{email:"test@test.com",password:"Password123!"},withCredentials:!0});case 3:return t=e.sent,console.log(t),n={email:t.data.data.email,name:t.data.data.name},console.log("userInfo",n),e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function D(){var e;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(E.b)(w);case 3:return e=t.sent,console.log("data",e),t.next=7,Object(E.c)({type:"auth/SIGNIN",payload:{email:(n={email:e.email,name:e.name}).email,name:n.name}});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}var n}),T,null,[[0,9]])}function _(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.d)("auth/SIGNIN_ASYNC",D);case 2:case"end":return e.stop()}}),N)}var L={email:"test@naver.com",name:"test"};var A=n(89),M=n(90);var K=Object(M.a)((function(e){var t=Object(A.a)(["cert"]),n=Object(i.a)(t,2),c=(n[0],n[1],Object(s.b)());return a.a.createElement("div",{className:"home"},a.a.createElement(v,null),a.a.createElement("button",{onClick:function(){c({type:"auth/SIGNIN_ASYNC"})}},"\ud14c\uc2a4\ud2b8"))}));function R(e){var t=e.node,n=e.addNode,o=t.id,r=t.type,l=t.content,d=Object(c.useState)(!1),s=Object(i.a)(d,2),u=s[0],b=s[1];return a.a.createElement("div",{className:r,"data-id":o,contentEditable:u,onKeyPress:function(e){"Enter"===e.key&&(b(!1),n(e))},onClick:function(){b(!0)}},l)}var P=function(){var e=Object(c.useState)([{type:"text",content:"asdsd",id:"123"}]),t=Object(i.a)(e,2),n=t[0],o=t[1],r=function(e){if(console.log(e.key),"Enter"===e.key){var t=n.concat();t.push({type:"text",content:"asdsd",id:"123"}),console.log(t),o(t)}};return a.a.createElement("div",null,n?n.map((function(e,t){return a.a.createElement(R,{node:e,key:t,addNode:r})})):"Loading...",a.a.createElement("textarea",{onKeyPress:r}))},U=n(49),H=n.n(U),J=n(50);function G(e){switch(e){case"bk-bold":return"b";case"bk-italic":return"i";case"bk-underbar":return"_";case"color":return"fc";case"background-color":return"bc";case"border-bottom":return"_";default:return null}}function Y(e){switch(e){case"700":return"b";case"italic":return"i";default:return e}}function X(e,t){for(var n,c=e[t],a=t+1,o=e.length;" "!==e[a]&&"&"!==e[a]&&a<o&&(c+=e[a],";"!==e[a]);)a++;if(";"===e[a])switch(c){case"&quot;":n='"';break;case"&amp;":n="&";break;case"&lt;":n="<";break;case"&gt;":n=">";break;case"&nbsp;":n=" ";break;case"&iexcl;":n="\xa1";break;case"&cent;":n="\uffe0";break;case"&pound;":n="\uffe1";break;case"&curren;":n="\xa4";break;case"&yen;":n="\uffe5";break;case"&brvbar;":n="|";break;case"&sect;":n="\xa7";break;case"&uml;":n="\xa8";break;case"&copy;":n="\u24d2";break;case"&ordf;":n="\xaa";break;case"&laquo;":n="\u226a";break;case"&not;":n="\uffe2";break;case"&shy;":n="-";break;case"&reg;":n="?";break;case"&macr;":n=c;break;case"&deg;":n="\xb0";break;case"&plusmn;":n="\xb1";break;case"&sup1;":n="\xb9";break;case"&sup2;":n="\xb2";break;case"&sup3;":n="\xb3";break;case"&acute;":n="\xb4";break;case"&micro;":n="\u03bc";break;case"&para;":n="\xb6";break;case"&middot;":n="\xb7";break;case"&cedil;":n="\xb8";break;case"&ordm;":n="\xba";break;case"&raquo;":n="\u226b";break;case"&frac14;":n="\xbc";break;case"&frac12;":n="\xbd";break;case"&frac34;":n="\xbe";break;case"&iquest;":n="\xbf";break;case"&Agrave;":case"&Aacute;":case"&Acirc;":case"&Atilde;":case"&Auml;":case"&Aring;":n="A";break;case"&AElig;":n="\xc6";break;case"&Ccedil;":n="C";break;case"&Egrave;":case"&Eacute;":case"&Ecirc;":case"&Euml;":n="E";break;case"&Igrave;":case"&Iacute;":case"&Icirc;":case"&Iuml;":n="I";break;case"&ETH;":n="\xd0";break;case"&Ntilde;":n="N";break;case"&Ograve;":case"&Oacute;":case"&Ocirc;":case"&Otilde;":case"&Ouml;":n="O";break;case"&times;":n="\xd7";break;case"&Oslash;":n="\xd8";break;case"&Ugrave;":case"&Uacute;":case"&Ucirc;":case"&Uuml;":n="U";break;case"&Yacute;":n="Y";break;case"&THORN;":n="\xde";break;case"&szlig;":n="\xdf";break;case"&agrave;":case"&aacute;":case"&acirc;":case"&atilde;":case"&auml;":case"&aring;":n="a";break;case"&aelig;":n="\xe6";break;case"&ccedil;":n="c";break;case"&egrave;":case"&eacute;":case"&ecirc;":case"&euml;":n="e";break;case"&igrave;":case"&iacute;":case"&icirc;":case"&iuml;":n="i";break;case"&eth;":n="\xf0";break;case"&ntilde;":n="n";break;case"&ograve;":case"&oacute;":case"&ocirc;":case"&otilde;":case"&ouml;":n="o";break;case"&divide;":n="\xf7";break;case"&oslash;":n="\xf8";break;case"&ugrave;":case"&uacute;":case"&ucirc;":case"&uuml;":n="u";break;case"&yacute;":n="y";break;case"&thorn;":n="\xfe";break;case"&yuml;":n="y";break;default:n=c}else n=e[t],a=t;return{word:n,count:a}}function F(e,t){if(!e&&!t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var n=[],c=0;c<e.length;c++){var a=JSON.stringify(e[c]);if(c){for(var o=n.length,r=0;r<n.length;r++)if(n[r]===a){n.splice(r,1);break}if(o===n.length)return!1}else{for(var l=0;l<t.length;l++){var d=JSON.stringify(t[l]);a===d||n.push(d)}if(n.length===t.length)return!1}}return!n.length}function q(e,t){for(var n=JSON.stringify(t[0]),c=0;c<e.length;c++){if(JSON.stringify(e[c][0])===n)return c}return-1}function z(e,t,n,c){var a=0,o=["",[]],r=[];return e.forEach((function(e){for(var l=0;l<e[0].length;l++)a===t||a+1===n||a>=t&&a<n&&0===l?-1===q(o[1],c)?(o[0]&&r.push(o),o=e[1]?-1!==q(e[1],c)?["",Object(u.a)(e[1])]:["",[].concat(Object(u.a)(e[1]),[c])]:["",[c]]):e[1]?-1!==q(e[1],c)?F(o[1],e[1])||(r.push(o),o=["",Object(u.a)(e[1])]):F(o[1],[].concat(Object(u.a)(e[1]),[c]))||(r.push(o),o=["",[].concat(Object(u.a)(e[1]),[c])]):F(o[1],[c])||(r.push(o),o=["",[c]]):a!==n&&0!==l||F(o[1],e[1]?e[1]:[])||(o[0]&&r.push(o),o=e[1]?["",Object(u.a)(e[1])]:["",[]]),o[0]+=e[0][l],a++})),r.push(o),r.map((function(e){return e[1][0]?e:[e[0]]}))}function V(e,t,n,c){var a=0,o=["",[]],r=[];return e.forEach((function(e){for(var l=0;l<e[0].length;l++){if(a===t||a+1===n||a>t&&a<n&&0===l){var d=void 0;if(e[1])if(F(o[1],e[1])){if(-1!==(d=q(o[1],c))){r.push(o);var i=Object(u.a)(o[1]);i.splice(d,1),o=["",Object(u.a)(i)]}}else{var s=q(e[1],c),b=Object(u.a)(e[1]);if(-1!==(d=q(o[1],c))){o[0]&&r.push(o);Object(u.a)(o[1]);-1!==s?(b.splice(s,1),o=["",Object(u.a)(b)]):o=["",Object(u.a)(e[1])]}else-1!==s?(b.splice(s,1),F(o[1],b)||(o[0]&&r.push(o),o=["",Object(u.a)(b)])):F(o[1],e[1])||(o[0]&&r.push(o),o=["",Object(u.a)(e[1])])}else o[1][0]&&(r.push(o),o=["",[]])}else a!==n&&0!==l||F(o[1],e[1]?e[1]:[])||(o[0]&&r.push(o),o=e[1]?["",Object(u.a)(e[1])]:["",[]]);o[0]+=e[0][l],a++}})),o[0]&&r.push(o),r.map((function(e){return e[1][0]?e:[e[0]]}))}var W={parseHtmlContents:function(e){var t=[],n=e.length;console.log(e);for(var c=!0,a=[],o=!1,r=!1,l=[],d=null,i=[],s=0;s<n;s++)if(o||r)if(o)switch(e[s]){case":":d&&(i=[G(d)],d=null);break;case";":i&&d&&(i.push(Y(d)),i[0]||i.shift(),"_"===i[0]&&i.pop(),l.push(i),i=[],d=null);break;case" ":d&&!i[0]&&(i=[G(d)],l.push(i),i=[],d=null);break;case'"':d&&(i=[G(d)])&&l.push(i),a[1]?a[1]=[].concat(Object(u.a)(a[1]),Object(u.a)(l)):(a=[a[0]])[1]=Object(u.a)(l),l=[],o=!1,d=null,i=[];break;default:d?d+=e[s]:d=e[s]}else r&&("'"===e[s]||'"'===e[s]?(a[1]?a[1].push(["a",d]):a=[a[0],[["a",d]]],d=null,r=!1):d?d+=e[s]:d=e[s]);else switch(e[s]){case"<":!s||"/"!==e[s+1]||">"!==e[s+6]&&"a"!==e[s+2]?(c=!1,void 0!==a[0]&&(t.push(a),a=[]),"s"===e[s+1]?s+=4:"a"===e[s+1]&&(s+=1)):(a[0]&&(t.push(a),a=[]),">"===e[s+6]?s+=6:s+=3,c=!0);break;case">":c=!0;break;case"s":c?a[0]?a[0]+=e[s]:a[0]=e[s]:"t"===e[s+1]&&"="===e[s+5]&&(s+=6,o=!0);break;case"c":c?a[0]?a[0]+=e[s]:a[0]=e[s]:"l"===e[s+1]&&"="===e[s+5]&&(s+=6,o=!0);break;case"h":c?a[0]?a[0]+=e[s]:a[0]=e[s]:"r"===e[s+1]&&"f"===e[s+3]&&(s+=5,r=!0);break;case"&":var b=X(e,s),f=b.word;s=b.count,a[0]?a[0]+=f:a[0]=f;break;case"f":if(c)a[0]?a[0]+=e[s]:a[0]=e[s];else if("<"===e[s-1])for(;">"!==e[s+1];)s++;break;default:c&&(a[0]?a[0]+=e[s]:a[0]=e[s])}return a[0]&&t.push(a),t},addContentsStyle:z,deleteContentsStyle:V,changeStyleTextContents:function(e,t,n,c,a){var o;switch(a){case"add":o=z(e.property.contents,n,c,t);break;case"del":o=V(e.property.contents,n,c,t);break;case"color":case"link":o=z(V(e.property.contents,n,c,t),n,c,t);break;default:o=e.property.contents}return Object.assign({},e,{property:Object.assign({},e.property,{contents:o})})}},Q=function(e){return!e.preBlockId&&!e.parentBlockId},Z=function(e){return function(t){return t.id===e}};function $(e){for(var t,n=e.concat(),c=[],a=e.length,o=0,r=1,l=null,d=[];n[0]&&c.length<a;){var i=void 0;if(l?i=l:d.length>=1&&(i=d.pop()),-1===(o=i?n.findIndex(Z(i)):n.findIndex(Q)))return console.log("currentId \ub204\ub77d",i,c),c;void 0!==(t=n[o]).children[0]?(l=t.children[0],t.nextBlockId&&d.push(t.nextBlockId)):l=t.nextBlockId,c.push(Object.assign({},t,{index:r++})),n.splice(o,1)}return c}function ee(e,t,n){var c,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=Object(u.a)(e);n?e.length<1||e.length===t?(a&&e.length>=1&&o.pop(),o=o.concat(n)):(c=o).splice.apply(c,[t,a].concat(Object(u.a)(n))):o.splice(t,a);return o}var te=function(e){return function(t){return t.id===e}};var ne=function(e){return function(t){return t.id!==e}};var ce={createBlockData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"block",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bk-p",n=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0;return{index:0,id:Object(b.a)(),type:e,parentBlockId:null,preBlockId:n,nextBlockId:c||null,property:{type:t,styles:{color:null,backgroundColor:null},contents:[]},children:[]}},copyBlockData:function(e){return Object.assign({},e,{id:Object(b.a)(),parentBlockId:null,preBlockId:null,nextBlockId:null,children:[]})},copyBlockDataList:function(e){for(var t=[],n=[],c=[],a=0;a<e.length;a++){var o=Object.assign({},e[a],{id:Object(b.a)(),preBlockId:null,nextBlockId:null,parentBlockId:null,children:[]});if(e[a].parentBlockId){var r=c[c.length-1];o.parentBlockId=r[0];var l=t[r[1]].children;t[r[1]].children=ee(l,l.length,[o.id])}if(e[a].children[0]&&c.push([o.id,a]),e[a].preBlockId&&n[0]){var d=n.pop();d&&(o.preBlockId=d[0],t[d[1]].nextBlockId=o.id)}var i=e[a].nextBlockId;i?-1===e.findIndex(te(i))?o.nextBlockId=null:n.push([o.id,a]):c.pop(),t.push(o)}return t},insertBlock:function(e,t,n,c){for(var a=e.map((function(e){return Object.assign({},e)})),o=Object(u.a)(t),r=o[0].id,l=[],d=n?a.findIndex(te(n)):-1,i=n?a[d]:null,s=i&&i.nextBlockId?a.findIndex(te(i.nextBlockId)):-1,b=-1!==s?a[s]:null,f=c||(i&&i.parentBlockId?i.parentBlockId:null);r;){var k=o.findIndex(te(r)),p=o[k];0===k&&(i?(o[0].preBlockId=i.id,a[d].nextBlockId=r):o[0].preBlockId=null),f&&(o[k].parentBlockId=f,l.push(r)),p.nextBlockId?r=p.nextBlockId:(b&&(o[k].nextBlockId=b.id,a[s].preBlockId=r),r=null)}if(f){var g=a.findIndex(te(f)),h=a[g],I=n?h.children.indexOf(n)+1:0,y=n?-1:a.findIndex(te(h.children[0]));if(-1!==y){var B=l[l.length-1],v=o.findIndex(te(B));a[y].preBlockId=B,o[v].nextBlockId=a[y].id}a[g].children=ee(h.children,I,l)}return a=a.concat(o)},insertChild:ee,updateContents:function(e,t){var n=e.map((function(e){return Object.assign({},e)}));return t.forEach((function(e){n[e.blockIndex-1]&&e.id===n[e.blockIndex-1].id?"text"===n[e.blockIndex-1].type&&(n[e.blockIndex-1].property=Object.assign({},n[e.blockIndex-1].property,{contents:"string"===typeof e.contents?oe(e.contents):e.contents})):console.log("block\uc774 \uc81c\ub300\ub85c \uc815\ub82c\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.")})),n},excludeBlock:function(e,t){var n=t,c=e.filter(te(n))[0],a=c.preBlockId,o=c.nextBlockId,r=c.parentBlockId;if(!a&&!r||"title"===c.type)return console.log("title\uc740 \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),e;var l=e.filter(ne(n)),d=a,i=o;if(c.children[0]){var s=[];c.children.forEach((function(e){s.push(l.findIndex(te(e)))}));var u=s[0],b=s[s.length-1];a&&(l[u].preBlockId=a,i=l[u].id),o&&(l[b].nextBlockId=o,d=l[b].id),s.forEach((function(e){l[e].parentBlockId=r}))}if(r){var f=l.findIndex(te(r)),k=l[f],p=k.children.indexOf(n);l[f]=Object.assign({},k,{children:c.children[0]?ee(k.children,p,c.children,1):k.children.filter((function(e){return e!==n}))})}if(a){var g=l.findIndex(te(a));l[g].nextBlockId=i}if(o){var h=l.findIndex(te(o));l[h].preBlockId=d}return console.log("deletedBlocks",l,n,c,e),l},excludeBlockList:function(e,t){for(var n=e.map((function(e){return Object.assign({},e)})),c=t[0],a=null,o=null,r=function(){var r=e.filter(te(c))[0],l=r.preBlockId,d=r.nextBlockId,i=r.parentBlockId;if(!l&&!i||"title"===r.type)return console.log("title\uc740 \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),{v:e};if(i){var s=n.findIndex(te(i));n[s].children=n[s].children.filter((function(e){return e!==r.id}))}if(l&&!t.find((function(e){return e===l}))){var u=n.findIndex(te(l));a=[l,u]}if(d)if(t.find((function(e){return e===d})))c=d;else{var b=n.findIndex(te(d));o=[d,b],c=null}else c=null};c;){var l=r();if("object"===typeof l)return l.v}a&&o?(n[a[1]].nextBlockId=o[0],n[o[1]].preBlockId=a[0]):a?n[a[1]].nextBlockId=null:o&&(n[o[1]].preBlockId=null);for(var d=0;d<t.length;d++)n=n.filter(ne(t[d]));return n},switchingBlock:function(e,t,n,c){var a=e.filter(ne(t)),o=e.filter(te(t))[0];if(o.preBlockId){var r=a.findIndex(te(o.preBlockId)),l=a[r].id;if(o.nextBlockId){var d=a.findIndex(te(o.nextBlockId)),i=a[d].id;a[d].preBlockId=l,a[r].nextBlockId=i}else a[r].nextBlockId=null}if(o.parentBlockId){var s=a.findIndex(te(o.parentBlockId));a[s].children=a[s].children.filter((function(e){return e!==o.id})),o.parentBlockId=null}var u=n?a.findIndex(te(n)):-1,b=c?a[u]:null,f=c||(b?b.parentBlockId:null),k=b&&b.nextBlockId?a.findIndex(te(b.nextBlockId)):-1,p=-1!==k?a[k]:null;if(o.preBlockId=b?b.id:null,b&&(a[u].nextBlockId=o.id),f){var g=a.findIndex(te(f)),h=a[g],I=b&&b.parentBlockId?h.children.indexOf(b.id)+1:0;if(h.children[0]){var y=h.children[h.children.length-1];k=a.findIndex(te(y)),p=a[k]}o.parentBlockId=h.id,a[g].children=ee(h.children,I,[o.id])}return p?(o.nextBlockId=p.id,a[k].preBlockId=o.id):o.nextBlockId=null,a.push(o),a},restoreBlock:function(e,t){var n=[],c=Object.assign({},t);n.push({id:c.id,data:[t]});var a=e.map((function(e){return Object.assign({},e)}));if(c.preBlockId){var o=a.findIndex(te(c.preBlockId));a[o].nextBlockId=c.id,n.push({id:a[o].id,data:[{nextBlockId:a[o].nextBlockId}]})}if(c.nextBlockId){var r=a.findIndex(te(c.nextBlockId));a[r].preBlockId=c.id,n.push({id:a[r].id,data:[{preBlockId:a[r].preBlockId}]})}if(c.parentBlockId){var l=a.findIndex(te(c.parentBlockId)),d=0;c.preBlockId&&(d=a[l].children.findIndex((function(e){return e===c.preBlockId}))+1),a[l].children=ee(a[l].children,d,[c.id]),n.push({id:a[l].id,data:[{children:a[l].children}]})}if(c.children[0])for(var i=function(e){var t=c.children[e],o=a.findIndex(te(t)),r=[];0===e&&(a[o].preBlockId=null,r.push({preBlockId:null})),e===c.children.length-1&&(a[o].nextBlockId=null,r.push({nextBlockId:null}));var l=a[o].parentBlockId;if(l){var d=a.findIndex(te(l));a[d].children=a[d].children.filter((function(e){return e!==t})),o===c.children.length-1&&n.push({id:l,data:[{children:a[d].children}]})}a[o].parentBlockId=c.id,r.push({parentBlockId:c.id}),n.push({id:a[o].id,data:[].concat(r)})},s=0;s<c.children.length;s++)i(s);return a.push(c),{blocks:a,changedData:n}}};var ae={tempDataPush:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,c=[].concat(Object(u.a)(e),[t]);return n<c.length&&c.shift(),c},getContentsToBeChanged:function(e,t){var n=[];return t.forEach((function(t){"text"===e[t.blockIndex-1].type&&n.push(e[t.blockIndex-1])})),console.log(n),n.map((function(e){return{id:e.id,contents:e.property?e.property.contents:null,blockIndex:e.index}}))}},oe=W.parseHtmlContents,re=W.changeStyleTextContents,le=$,de=ce.createBlockData,ie=ce.copyBlockData,se=ce.copyBlockDataList,ue=ce.insertBlock,be=ce.updateContents,fe=ce.excludeBlock,ke=ce.excludeBlockList,pe=ce.switchingBlock,ge=ce.restoreBlock,he=ae.tempDataPush,Ie=ae.getContentsToBeChanged,ye=n(19);var Be={pageId:ye.a.id,userId:ye.a.userId,blocks:le(ye.a.blocks),editingId:null,stage:[],rightToEdit:!0,tempBack:[],tempFront:[]};var ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"bklog/ADD_BLOCK":var n=t.payload,c=n.preBlockId,a=n.newBlockType,o=n.blockData,r=c?e.blocks.filter((function(e){return e.id===c}))[0]:e.blocks[e.blocks.length-1],l=o?ie(o):de("block",a,r.id);console.log(l);var d=ue(e.blocks,[l],r.id);return Object.assign({},e,{blocks:le(d),editingId:l.id,tempBack:he(e.tempBack,{type:"bklog/ADD_BLOCK",data:{id:l.id}})});case"bklog/EDITABLE":var i,s=t.payload,b=s.editingId,f=s.editingIndex;return i=f?f>=1&&f<=e.blocks.length?e.blocks[f-1].id:null:b,Object.assign({},e,{editingId:i});case"bklog/EDIT_BLOCK":var k=t.payload.blockId,p=t.payload.text,g=t.payload.blockIndex,h=e.stage.filter((function(e){return e.id!==k})),I={id:k,blockIndex:g,contents:p};return Object.assign({},e,{stage:h?[].concat(Object(u.a)(h),[I]):[I]});case"bklog/CHANGE_TEXT_STYLE":var y=t.payload,B=y.changedTextStyleBlockIndex,v=y.styleType,O=y.startPoint,m=y.endPoint,x=y.order,E=e.blocks[B-1];if("text"!==E.type)return console.log("text block\uc774 \uc544\ub2d9\ub2c8\ub2e4."),e;var j={id:E.id,contents:E.property.contents,blockIndex:E.index};return Object.assign({},e,{blocks:e.blocks.map((function(e){return e.index===B?re(E,v,O,m,x):e})),tempBack:he(e.tempBack,{type:"bklog/CHANGE_TEXT_STYLE",data:[j]})});case"bklog/COMMIT_BLOCK":if(!e.stage[0])return e;var C=Ie(e.blocks,e.stage),T=Object.assign({},e,{blocks:be(e.blocks,e.stage),stage:[],editingId:null,tempBack:he(e.tempBack,{type:"bklog/COMMIT_BLOCK",data:C})});return localStorage.setItem("bklog",JSON.stringify(T)),T;case"bklog/DELETE_BLOCK":var N=t.payload.deletedId;if(N===e.blocks[0].id)return e;var w=e.blocks.filter((function(e){return e.id===N}))[0];return Object.assign({},e,{blocks:le(fe(e.blocks,N)),tempBack:he(e.tempBack,{type:"bklog/DELETE_BLOCK",data:w})});case"bklog/SWITCH_BLOCK":var S=t.payload,D=S.switchedId,_=S.positionId,L=pe(e.blocks,D,_);return console.log(L),Object.assign({},e,{blocks:le(L)});case"bklog/REVERT_BLOKC":var A,M=e.tempBack.pop();return M&&M.data.id&&(A=ge(e.blocks,M.data)),console.log(A),A?Object.assign({},e,{blocks:le(A.blocks)}):e;default:return console.log("state:",e),e}};var Oe=function(){var e=Object(s.c)((function(e){return e.bklog})),t=Object(c.useMemo)((function(){return e.blocks.filter((function(e){return null===e.parentBlockId}))}),[e.blocks]),n=Object(c.useMemo)((function(){return e.editingId}),[e.editingId]),a=e.stage,o=Object(c.useMemo)((function(){return e.rightToEdit}),[]),r=Object(s.b)(),l=Object(c.useCallback)((function(e,t,n){return r(function(e,t,n){return{type:"bklog/ADD_BLOCK",payload:{preBlockId:e,newBlockType:t,blockData:n}}}(e,t,n))}),[r]),d=Object(c.useCallback)((function(e,t){return r(function(e,t){return{type:"bklog/EDITABLE",payload:{editingId:e,editingIndex:t}}}(e,t))}),[r]),i=Object(c.useCallback)((function(e,t,n){return r({type:"bklog/EDIT_BLOCK",payload:{blockId:(c={blockId:e,blockIndex:t,text:n}).blockId,blockIndex:c.blockIndex,text:c.text}});var c}),[r]),u=Object(c.useCallback)((function(){return r({type:"bklog/COMMIT_BLOCK"})}),[r]),b=Object(c.useCallback)((function(e){return r({type:"bklog/DELETE_BLOCK",payload:{deletedId:e}})}),[r]),f=Object(c.useCallback)((function(e,t,n,c,a){return r(function(e,t,n,c,a){return{type:"bklog/CHANGE_TEXT_STYLE",payload:{changedTextStyleBlockIndex:e,styleType:t,startPoint:n,endPoint:c,order:a}}}(e,t,n,c,a))}),[r]),k=Object(c.useCallback)((function(e,t){return r(function(e,t){return{type:"bklog/SWITCH_BLOCK",payload:{switchedId:e,positionId:t}}}(e,t))}),[r]),p=Object(c.useCallback)((function(){return r({type:"bklog/REVERT_BLOKC"})}),[r]);return{state:e,initBlock:t,getRigthToEdit:o,getChilrenBlock:function(t){return e.blocks.filter((function(e){return e.parentBlockId===t}))},getBlockState:function(t){return e.blocks.filter((function(e){return e.id===t}))[0]},getStagedBlocks:a,getStagedBlock:function(t){return e.stage.filter((function(e){return e.id===t}))[0]},getEditAbleId:n,onAddBlock:l,onEditAble:d,onEditBlock:i,onCommitBlock:u,onDeleteBlock:b,onChangeTextStyle:f,onSwitchBlock:k,onRevertBlock:p}};function me(e){var t,n,c=null;if(2===e.length){if(e[1].forEach((function(e){switch(e[0]){case"b":c=c?c+" ".concat("font-weight: 700;"):"font-weight: 700;";break;case"i":c=c?c+" ".concat("font-style: italic;"):"font-style: italic;";break;case"_":c=c?c+" ".concat("border-bottom: 0.05em solid;"):"border-bottom: 0.05em solid;";break;case"fc":c=c?c+" ".concat("color:"," ").concat(e[1],";"):"".concat("color:"," ").concat(e[1],";");break;case"bc":c=c?c+" ".concat("background-color:"," ").concat(e[1],";"):"".concat("background-color:"," ").concat(e[1],";");break;case"a":n=e[1]}})),t="<span".concat("").concat(c?' style="'+c+'"':"",">").concat(e[0],"</span>"),n){var a=t;t='<a href="'.concat(n,'">').concat(a,"</a>")}}else t=e[0];return t}function xe(e,t,n){return 1===n?me(e)+me(t):e+me(t)}var Ee=n(29),je=m.a.mark(we);function Ce(e,t,n){for(var c=n;c.parentNode!==e;)c=c.parentNode;for(var a=t;null!==c&&a>0;)c=c.previousSibling,a-=1;return a>0}function Te(e,t,n,c){if(e===n)return t-c;var a=e.compareDocumentPosition(n);return 0!==(a&Node.DOCUMENT_POSITION_CONTAINED_BY)?Ce(e,t,n)?1:-1:0!==(a&Node.DOCUMENT_POSITION_CONTAINS)?Ce(n,c,e)?-1:1:0!==(a&Node.DOCUMENT_POSITION_FOLLOWING)?-1:0!==(a&Node.DOCUMENT_POSITION_PRECEDING)?1:void 0}function Ne(e,t){return"br"===e.tagName.toLowerCase()?"\n":"div"!==e.tagName.toLowerCase()||t?"":"\n"}function we(e){var t,n,c,a=arguments;return m.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=!(a.length>1&&void 0!==a[1])||a[1],console.assert(e.nodeType===Node.ELEMENT_NODE),n=e.firstChild,c=0,o.next=6,{node:e,offset:c,text:Ne(e,t)};case 6:if(null==n){o.next=21;break}if(n.nodeType!==Node.TEXT_NODE){o.next=13;break}return o.next=10,{node:n,offset:NaN,text:n.data};case 10:t=!1,o.next=15;break;case 13:return o.delegateYield(we(n,t),"t0",14);case 14:t=o.t0;case 15:return n=n.nextSibling,c+=1,o.next=19,{node:e,offset:c,text:""};case 19:o.next=6;break;case 21:return o.abrupt("return",t);case 22:case"end":return o.stop()}}),je)}function Se(e,t){var n,c=0,a=null,o=0,r=Object(Ee.a)(we(e));try{for(r.s();!(n=r.n()).done;){var l=n.value;if(l.text.length>t-c)return{node:l.node,offset:l.node.nodeType===Node.TEXT_NODE?t-c:l.offset};c+=l.text.length,a=l.node,o=l.node.nodeType===Node.TEXT_NODE?l.text.length:l.offset}}catch(d){r.e(d)}finally{r.f()}return{node:a,offset:o}}function De(e,t,n){var c,a=0,o=Object(Ee.a)(we(e));try{for(o.s();!(c=o.n()).done;){var r=c.value;if(t.nodeType!==Node.TEXT_NODE&&t===r.node&&n===r.offset)return a;if(t.nodeType===Node.TEXT_NODE&&t===r.node)return a+n;a+=r.text.length}}catch(l){o.e(l)}finally{o.f()}return Te(t,n,e,0)<0?0:a}function _e(e,t,n){var c=window.getSelection(),a=Se(e,t),o=Se(e,n);c.setBaseAndExtent(a.node,a.offset,o.node,o.offset)}function Le(e){var t=window.getSelection();return Te(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)<0?De(e,t.anchorNode,t.anchorOffset):De(e,t.focusNode,t.focusOffset)}function Ae(e){var t=window.getSelection();return Te(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)<0?De(e,t.focusNode,t.focusOffset):De(e,t.anchorNode,t.anchorOffset)}var Me=a.a.forwardRef((function(e,t){var n=e.className,c=e.onKeyPress,o=e.onKeyUp,r=e.onMouseUp,l=e.onMouseDown,d=e.onMouseMove,i=e.onFocus,s=e.onBlur,u=e.dangerouslySetInnerHTML,b=e.contents,f=e.placeholder;return a.a.createElement("div",{className:"bk-contentEditable ".concat(n||""),ref:t,onKeyUp:o,onKeyPress:c,onMouseUp:r,onMouseDown:l,onMouseMove:d,onFocus:i,onBlur:s,contentEditable:!0,dangerouslySetInnerHTML:u,placeholder:f},b)}));function Ke(e){var t=e.colorCode,n=e.onStyleChange,c=e.addDelToggle,o="rgba(".concat(t[0],", ").concat(t[1],", ").concat(t[2],", ").concat(t[3],")"),r={color:o},l=c(["fc",o])?"del":"color";console.log(r);return a.a.createElement("button",{style:r,onClick:function(){n(["fc",o],l)}},"Text","del"===l?"v":null)}var Re=[[191,63,63,1],[191,127,63,1],[191,191,63,1],[127,191,63,1],[63,191,63,1],[63,191,127,1],[63,127,191,1],[63,63,191,1],[127,63,191,1],[191,63,191,1],[191,63,127,1]];var Pe=function(e){var t=e.addDelToggle,n=e.onStyleChange;return a.a.createElement("div",{className:"bk-color-menu"},Re.map((function(e,c){return a.a.createElement(Ke,{key:c,colorCode:e,onStyleChange:n,addDelToggle:t})})))},Ue=["h1","h2","h3","h4","p"];function He(){return a.a.createElement("select",null,Ue.map((function(e){return a.a.createElement("option",null,e)})))}function Je(e){var t=e.onStyleChange,n=e.addDelToggle,c=e.styleType,o=n?"del":"add";return a.a.createElement("button",{className:"bk-textStyleToggle ".concat(o),onClick:function(){t([c],o)}},c)}var Ge=function(e){var t=e.blockIndex,n=e.startPosition,c=e.endPosition,o=e.contents,r=e.reBlockFocus,l=Oe(),d=l.onChangeTextStyle,i=l.onCommitBlock,s=function(e,a){i(),d(t,e,n,c,a),r()},u=function(e,t){for(var n=0,c=null,a=0;a<e.length;a++)if((n+=e[a][0].length)>t){c=2===e[a].length?e[a][1]:null;break}return c}(o,n),b=function(e){return-1!==function(e,t){for(var n=JSON.stringify(t),c=0;c<e.length;c++){if(JSON.stringify(e[c])===n)return c}return-1}(u||[],e)};return a.a.createElement("div",{className:"bk-style-toggles"},a.a.createElement(He,null),["b","i","_"].map((function(e,t){return a.a.createElement(Je,{key:t,onStyleChange:s,styleType:e,addDelToggle:b([e])})})),a.a.createElement(Pe,{addDelToggle:b,onStyleChange:s}))};n(83);var Ye=function e(t){var n=t.blockData,o=Object(c.useState)(!0),r=Object(i.a)(o,2),l=(r[0],r[1],Object(c.useState)(0)),d=Object(i.a)(l,2),s=d[0],u=d[1],b=Object(c.useState)(0),f=Object(i.a)(b,2),k=f[0],p=f[1],g=Object(c.useState)(!1),h=Object(i.a)(g,2),I=h[0],y=h[1],B=Object(c.useRef)(null),v=Oe(),O=(v.getRigthToEdit,v.getEditAbleId),m=v.onAddBlock,x=v.onDeleteBlock,E=v.getChilrenBlock,j=v.onEditAble,C=v.onEditBlock,T=v.onCommitBlock,N=Object(c.useMemo)((function(){return{__html:n.property&&n.property.contents[0]?1===n.property.contents.length?me(n.property.contents[0]):n.property.contents.reduce(xe):""}}),[n.property]),w=n.children[0]?E(n.id):null,S=function(e,t,n){_e(e,t,n||t)},D=function(e){e.focus()};return Object(c.useEffect)((function(){var e=document.activeElement;s|k&&e===B.current&&S(B.current,s,k)}),[n.property]),Object(c.useEffect)((function(){O===n.id&&B.current&&D(B.current)}),[O]),Object(c.useEffect)((function(){"container"===n.type&&(n.children[0]||x(n.id))}),[n.children]),Object(c.useEffect)((function(){y(k-s>=1)}),[s,k]),a.a.createElement("div",{"data-index":n.index,className:"block-zone"},a.a.createElement("div",{className:"block black-mode",onBlur:function(e){e.currentTarget,e.target,e.currentTarget.contains(e.relatedTarget)||(u(0),p(0),T())}},n.property&&"container"!==n.type?a.a.createElement(Me,{className:n.property.type,dangerouslySetInnerHTML:N,ref:B,onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),m(n.id,n.property?n.property.type:null))},onKeyUp:function(e){switch(u(Le(e.target)),p(Ae(e.target)),e.key){case"Enter":u(0),p(0),e.preventDefault();break;case"ArrowUp":0===s&&(e.preventDefault(),u(0),p(0),j(null,n.index-1));break;case"ArrowDown":k===e.target.innerText.length&&(u(0),p(0),e.preventDefault(),j(null,n.index+1));break;case"Backspace":if(e.target.innerHTML||0!==s||0!==k){C(n.id,n.index,e.target.innerHTML);break}x(n.id),n.index>1&&j(null,n.index-1);break;case" ":p(0),C(n.id,n.index,e.target.innerHTML),T();break;default:C(n.id,n.index,e.target.innerHTML)}},onMouseUp:function(e){var t=Le(B.current),n=Ae(B.current);u(t),p(n)},onFocus:function(e){I?s|k&&S(B.current,s,k):function(e){var t=e.innerText.length;u(t),p(t),_e(e,t,t)}(B.current),j(n.id)},placeholder:"\uc785\ub825\ud574\uc8fc\uc138\uc694..."}):null,a.a.createElement("button",{className:"bk-del",onClick:function(){x(n.id)}}," \uc0ad\uc81c "),I?a.a.createElement(Ge,{blockIndex:n.index,startPosition:s,endPosition:k,contents:n.property.contents,reBlockFocus:function(){D(B.current)}}):null),w?w.map((function(t){return a.a.createElement(e,{blockData:t,key:t.id})})):null)},Xe=ye.a.blocks,Fe=[{id:"c7ce6d39-bf2a-4712-9318-d2313a917a62",type:"container",parentBlockId:null,preBlockId:"d5cc2725-97ec-494b-bc80-c16f96379e11",nextBlockId:"s5cc2725-97ec-494b-bc80-c16f96379e61",property:null,children:["a85758ba-bbb5-45e1-aaa0-e3395e0dfd78","3723c55f-66f0-4ad0-b796-0dbcd8d82ce8","2453d55f-66f0-4ad0-b796-0dbcd8d82ce8"]},{id:"a85758ba-bbb5-45e1-aaa0-e3395e0dfd78",type:"block",parentBlockId:"c7ce6d39-bf2a-4712-9318-d2313a917a62",preBlockId:null,nextBlockId:"3723c55f-66f0-4ad0-b796-0dbcd8d82ce8",property:{type:"bk-h1",styles:{color:"black",backgroudColor:"white"},contents:[["\ube14\ub85d "],["1 \uc785",[["b"],["fc","#fc0"]]],["\ub2c8\ub2e4."]]},children:[]},{id:"3723c55f-66f0-4ad0-b796-0dbcd8d82ce8",type:"block",parentBlockId:"c7ce6d39-bf2a-4712-9318-d2313a917a62",preBlockId:"a85758ba-bbb5-45e1-aaa0-e3395e0dfd78",nextBlockId:"2453d55f-66f0-4ad0-b796-0dbcd8d82ce8",property:{type:"bk-h1",styles:{color:"black",backgroudColor:"white"},contents:[["\ube14\ub85d "],["2 \uc785",[["i"]]],["\ub2c8\ub2e4."]]},children:["4453c55f-66f0-4ad0-b796-0dbcd8d82ce8"]},{id:"4453c55f-66f0-4ad0-b796-0dbcd8d82ce8",type:"block",parentBlockId:"3723c55f-66f0-4ad0-b796-0dbcd8d82ce8",preBlockId:null,nextBlockId:null,property:{type:"bk-h1",styles:{color:"black",backgroudColor:"white"},contents:[["\ube14\ub85d "],["3 \uc785",[["b"]]],["\ub2c8\ub2e4."]]},children:[]},{id:"2453d55f-66f0-4ad0-b796-0dbcd8d82ce8",type:"block",parentBlockId:"c7ce6d39-bf2a-4712-9318-d2313a917a62",preBlockId:"3723c55f-66f0-4ad0-b796-0dbcd8d82ce8",nextBlockId:null,property:{type:"bk-h1",styles:{color:"black",backgroudColor:"white"},contents:[["\ube14\ub85d "],["4 \uc785",[["b"]]],["\ub2c8\ub2e4."]]},children:[]}];se(Fe);var qe=function(){var e=se(Fe),t=se(Fe),n=$(Xe),c=e.map((function(e){return e.id})),a=$(ue(n,e,"2453d55f-66f0-4ad0-b796-0dbcd8d82ce8")),o=Object(u.a)(a);return console.log(t,n,c,a),$(ke(o,c))}();var ze=function(){var e=Object(c.useState)(1),t=Object(i.a)(e,2),n=t[0],o=t[1],r=Oe(),l=r.state,d=r.initBlock,s=r.onAddBlock,u=r.onCommitBlock,b=r.onChangeTextStyle,f=r.onSwitchBlock,k=r.onRevertBlock,p=Object(J.a)({timeout:3e3,onIdle:function(){console.log("last active",p()),l.stage[0]&&(console.log("commit"),u())},debounce:500}).getLastActiveTime,g=d[0]?d:null;return Object(c.useEffect)((function(){console.log("case: blockList \ubd99\ud600\ub123\uae30",qe),console.log("adsd")}),[]),a.a.createElement("div",{className:"blocklog notranslate"},g?g.map((function(e){return a.a.createElement(Ye,{blockData:e,key:e.id})})):a.a.createElement("div",null,'""'),g.length<=1?a.a.createElement("div",{className:"bk-zone"},a.a.createElement("div",{className:"bk-block",placeholder:"\uc785\ub825\ud574\uc8fc\uc138\uc694...",onFocus:function(){return s()},onClick:function(){return s()},contentEditable:"true"})):null,a.a.createElement("button",{onClick:function(){s(void 0,void 0,{index:0,id:"d5cc2725-97ec-494b-bc80-c16f96379e61",type:"block",parentBlockId:null,preBlockId:null,nextBlockId:null,property:{type:"BKlog-h1",styles:{color:null,backgroundColor:null},contents:[["\ube14\ub85d 1\uc785\ub2c8\ub2e4."],["\uc800",[["b"],["fc","#c0f"],["bc","#000"],["i"],["a","https://www.naver.com"]]],["\ub294 ",[["i"]]],["\ud669\uc900\ud76c",[["b"]]],[" \uc785\ub2c8\ub2e4.",[["fc","#f00"]]]]},children:["2453d55f-66f0-4ad0-b796-0dbcd8d82ce8"]})}},"\ube14\ub7ed \ucd94\uac00"),a.a.createElement("button",{onClick:function(){b(1,["bc","#fc0"],2,10,"color")}},"\uc2a4\ud0c0\uc77c \ucd94\uac00"),a.a.createElement("button",{onClick:function(){f(l.blocks[2].id,l.blocks[6+n].id),o(n+1)}},"\uc2a4\uc704\uce6d"),a.a.createElement("button",{onClick:function(){k()}},"\ub418\ub3cc\ub9ac\uae30"))};var Ve=function(e){var t=e.match,n=Object(c.useState)(!0),o=Object(i.a)(n,2),r=o[0];return o[1],console.log(t.params.id,t),a.a.createElement("div",{className:H()("bk-page",{"white-mode":r})},a.a.createElement(ze,null))};function We(e){var t=e.match;return t.params.id?(console.log(t.params.id),a.a.createElement(d.a,{to:"/"})):a.a.createElement("div",null,"asdasd")}n(85);var Qe,Ze=function(){return a.a.createElement("div",{className:"App black-mode"},a.a.createElement(l.a,null,a.a.createElement(d.d,null,a.a.createElement(d.b,{path:"/",component:K,exact:!0}),a.a.createElement(d.b,{path:"/edit",component:P}),a.a.createElement(d.b,{path:"/bklog/:id",component:Ve}),a.a.createElement(d.b,{path:"/auth/:id",component:We}))))},$e=n(91),et=n(13),tt=n(20),nt=n(24),ct=(Object(nt.createAction)("counter/INCREASE")(),Object(nt.createAction)("counter/DECREASE")(),Object(nt.createAction)("counter/INCREASE_BY")(),Object(nt.createReducer)({count:0},(Qe={},Object(tt.a)(Qe,"counter/INCREASE",(function(e){return{count:e.count+1}})),Object(tt.a)(Qe,"counter/DECREASE",(function(e){return{count:e.count-1}})),Object(tt.a)(Qe,"counter/INCREASE_BY",(function(e,t){return{count:e.count+t.payload}})),Qe))),at=n(51),ot=[];var rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"todos/ADD_TODO":return e.concat({id:t.payload.id,text:t.payload.text,done:!1});case"todos/TOGGLE_TODO":return e.map((function(e){return e.id===t.payload?Object(at.a)({},e,{done:!e.done}):e}));case"todos/REMOVE_TODO":return e.filter((function(e){return e.id!==t.payload}));default:return e}},lt=m.a.mark(dt);function dt(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([_()]);case 2:case"end":return e.stop()}}),lt)}var it=Object(et.c)({counter:ct,todos:rt,blocklog:y,bklog:ve,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SIGNIN":return console.log(t),Object.assign({},e,{email:t.payload.email,name:t.payload.name});default:return e}}}),st=n(52),ut=Object(st.a)(),bt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||et.d,ft=function(){var e=Object(et.e)(it,bt(Object(et.a)(ut)));return ut.run(dt),e}();var kt=function(){return a.a.createElement(s.a,{store:ft},a.a.createElement($e.a,null,a.a.createElement(Ze,null)))};n(86),n(87);r.a.render(a.a.createElement(kt,null),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.40f85710.chunk.js.map